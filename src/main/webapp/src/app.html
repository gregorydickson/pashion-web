<template>
    <!-- page frame -->
    <div class="vertical grid-frame spa-background">
        <!-- header -->
        <compose if.bind="user.type === 'brand'" view-model="header" style="min-height:54px;"></compose>
        <compose if.bind="user.type === 'press'" view-model="header" style="min-height:54px;"></compose>
        <compose if.bind="user.type === 'agency'" view-model="header" style="min-height:54px;"></compose>
        <compose if.bind="user.type === 'guest'" view-model="guestheader" style="min-height:54px;"></compose>
        <!-- spacer -->
        <div class="grid-block shrink spa-v-spacer ">
        </div>
        <!-- main body block -->
        <div id="visNeeded" class="grid-block IEVisibility"> <!-- RM changed from visible to hidden to get guest page to work -->
        <!-- RM hack for IE not constraining grid frame -->
            <!-- Main Body -->
            

            <router-view class="grid-block " style="overflow:visible;"></router-view> 


            <!-- spacer -->
            <div class="grid-block shrink spa-h-spacer">
            </div>
            <!-- Communications Panel  -->
            <!-- -->
            <!-- -->
            <!-- Communications Panel  -->
            <!-- -->
            <div if.bind="(((user.type== 'press') || (user.type=='brand')) && (user.type)) " id="message-container-mum" class="vertical grid-block grid-block-vertical-shadow right-panel" style="overflow:hidden;">
                <!-- <div>${user.type}<div> debug statement -->
                <compose if.bind="user.type === 'brand'" id="right-panel-header" class="grid-block shrink right-panel" view-model="comms/commsHeader"></compose>
                <compose if.bind="user.type === 'press'" id="right-panel-header" class="grid-block shrink right-panel" view-model="comms/commsHeader"></compose>
                <compose if.bind="user.type === 'brand'" id="right-panel-body" class="grid-block right-panel" view-model="comms/commsBody"></compose>
                <compose if.bind="user.type === 'press'" id="right-panel-body" class="grid-block right-panel" view-model="comms/commsBody"></compose>
                <!-- <div id="bottom-spacer-contents" class="grid-block "></div> <!-- spacer to fix items to the bottom-->
                <compose if.bind="user.type === 'brand'" id="right-panel-footer" class="grid-block shrink right-panel" view-model="comms/commsFooter"></compose>
                <compose if.bind="user.type === 'press'" id="right-panel-footer" class="grid-block shrink right-panel" view-model="comms/commsFooter"></compose>
                <!-- white lip at bottom of scroll region -->
                <div class="grid-content shrink scrolling-lip">
                </div>
            </div>
        </div>
        <!-- spacer -->
        <div class="grid-content shrink spa-v-spacer">
        </div>
        <!-- footer -->
        <compose view-model="footer"></compose>
    </div>
</template>
