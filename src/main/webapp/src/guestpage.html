<!-- guestpage.html -->
<template>
    <require from="./dashboard_filters/filters-designer"></require>
    <require from="./dashboard_filters/filters-season"></require>
    <require from="./dashboard_filters/filters-theme"></require>
    <require from="./common/jquery.unveil"></require>


 <!--   <div show.bind="busy.active">
        <div class="spinner">
        </div>
        <div class="spinner-blocker">
        </div>
    </div> -->

        <!-- start preloader -->
        <div class="preloader" show.bind="busy.active">
            <div class="sk-spinner sk-spinner-wave">
                <div class="sk-rect1"></div>
                <div class="sk-rect2"></div>
                <div class="sk-rect3"></div>
                <div class="sk-rect4"></div>
                <div class="sk-rect5"></div>
            </div>
        </div>
        <!-- end preloader -->


    <!-- Main building block -->
    <div id="visNeeded2" class="vertical grid-block spa-background IEVisibility" >

        <!-- guest header 
        <compose view-model="guestheader" style="min-height:79px;"></compose> 
-->
        <!-- spacer -->
        <div class="grid-block shrink spa-v-spacer ">
        </div>

        <div class="grid-block" style="overflow:visible;">

            <div id="" style="min-width: 50px; max-width: 50px;" class="vertical grid-block">
            </div>

            <div class="grid-block shrink spa-v-spacer ">
            </div>

            <!-- -->
            <!-- Image Grid Large Panel-->
            <!-- -->
            <div id="looks" class="vertical grid-block grid-block-vertical-shadow" style="overflow:hidden;">
                <!-- search / filter area -->
                <!-- top row -->
                <div class="medium-up-1 align-center grid-block" style="margin-top: 3rem; padding-bottom: 1rem; overflow:hidden;">

                    <!-- Brand -->
                    <div class="grid-content shrink" style="min-width: 225px;">
                        <filters-designer change.delegate="filterChangeBrand($event)" ></filters-designer>
                    </div>
                    <!-- Seasons -->
                    <div class="grid-content shrink" style="min-width: 225px;">
                        <filters-season change.delegate="filterChangeSeason($event)" ></filters-season>
                    </div>

                    <!-- Theme -->
                    <div class="grid-content shrink" style="min-width: 225px;">
                        <filters-theme change.delegate="filterChangeTheme($event)" ></filters-theme>
                    </div>

                    <!-- Search -->
                    <div class="grid-content shrink">
                        <input style="min-width: 150px; margin-left:1rem;" type="search"  value.two-way="searchText" class="search-box" id="search-images" placeholder="Enter keywords" onfocus="this.placeholder = ''" onblur="this.placeholder = 'Enter Keywwords'">
                    </div>
                    <!-- Search Button -->
                    <div class="grid-content shrink">
                        <a class="hollow button" click.delegate="submitSearch()" style="height:26px; font-size:1rem; line-height: 0.8rem; margin-left:-12px;">Search</a>
                    </div>

                    <div class="medium-up-1 align-center grid-block" style="margin-top: 10px; margin-bottom:30px; overflow:hidden;">
                        <span> ${results} &nbsp; RESULT </span>
                        <span if.bind="((results>1) || (results==0))"> S </span>
                    </div>

                </div>                
                
                <!-- Images/Looks -->
                <div id="cards-list">
                <div id="mainScrollWindow" class="cards-list-wrap">
                
                    <div class="cards-list" repeat.for="row of rows" >

                        <div class="card" style="min-height: 158px" repeat.for="i of row.numberImagesThisRow" css="width: ${row.numberImagesThisRowPC}%;">

                            <!-- Main image 
                            <div id="card-${row.items[i].id}" class="card-image">

                                <img src.bind="row.items[i].image" ref="image"  click.delegate="createZoomDialog(row.items[i],$parent.$index, i)"/>
                            </div>
                            <img src="/assets/LOGO_indigitalimagesRM.png" class="indigital-and-align"/> -->

                            <div id="card-${row.items[i].id}" class="card-image">

                                   <img class="lazy" src="/assets/bg.jpg" data-src.bind="row.items[i].image" ref="image" 
                                     click.delegate="createZoomDialog(row.items[i],$parent.$index, i)"/> 
                                


                                    <div class="card-look-number" click.delegate="createZoomDialog(row.items[i],$parent.$index, i)">${row.items[i].name}</div>
                                    <div class="card-look-number-name" click.delegate="createZoomDialog(row.items[i],$parent.$index, i)">${row.items[i].name}</div>
                                    <div class="card-look-number-brand-season" click.delegate="createZoomDialog(row.items[i],$parent.$index, i)">${row.items[i].brand} <br> ${row.items[i].season}</div>
                                    <img src="/assets/LOGO_indigitalimagesRM.png" class="indigital-and-align"/> 

                                    <div class="card-hover-overlay" click.delegate="createZoomDialog(row.items[i],$parent.$index, i)"></div>

                            </div>

                        </div>                 
                    </div>

                    <div class="medium-up-1 align-center grid-block" style="margin-top:3rem; margin-bottom:3rem;">
                        <a href="http://www.pashiontool.com/beta" target="_blank" style="">Join Pashion to get more than ${maxR} results</a>
                    </div>

                </div>
                </div>
                <!-- white lip at bottom of scroll region -->
                <div class="grid-content shrink scrolling-lip">
                </div>
            </div>

            <div id="" style="min-width: 43px; max-width: 43px;" class="vertical grid-block">
            </div>

            <div class="grid-block shrink spa-v-spacer ">
            </div>
        </div>

        <!-- spacer -->
        <div class="grid-content shrink spa-v-spacer">
        </div>
    </div>
</template>
