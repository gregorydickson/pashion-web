<template >

  <require from="./filter"></require>

    <div repeat.for="message of messages | filter:searchTerm:filterFunc" id="message-container" class="grid-block vertical" style="margin-left:1rem; margin-right:1rem;">
       <!--  <compose view-model="messages/messageEntry"></compose> -->
        <!-- <compose view-model="messages/messageEntryNotMe"></compose> -->

        <!-- from me -->
	    <div show.bind="(message.fromMe && (message.toId == currentContact.email))" class="grid-block align-right inter-message-gap">
	        <table class="" style="table-layout:fixed;">
	            <tr>
	                <td colspan="2">
	                    <div class="message-box message-me-box">
	                        <div class="message-img">
	                            <img src=${message.image} alt="">
	                        </div> 
	                        ${message.text}
	                    </div>
	                </td>
	            </tr>
	            <tr>
	                <td class="message-text message-left-text" style="">Me</td>
	                <td class="message-text message-right-text message-date">${message.time}</td>
	            </tr>
	        </table>
	    </div>
	    <!-- not from me -->
        <div show.bind="(message.toMe && (message.fromId == currentContact.email))" class="grid-block vertical align-left inter-message-gap">
	        <table class="message-wrap">
	            <tr>
	                <td colspan="2">
	                    <div class="message-box message-not-me-box">
	                        <div class="message-img">
	                            <img src=${message.image} alt="">
	                        </div>                                            
	                        ${message.text}
	                    </div>
	                </td> 
	            </tr>
	            <tr>
	                <td class="message-text message-left-text" style="">${message.fromName}</td>
	                <td class="message-text message-right-text message-date">${message.time}</td>
	            </tr>
	        </table>
    	</div>



    </div>
</template>
