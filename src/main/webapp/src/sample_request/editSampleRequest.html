<!-- Note same layout for Press and Brand, only content and Titles change -->
<!-- Currently this static template is setup for Press -->
<template>
    <require from="common/viewDateFormatter"></require>
    <require from="common/dateTimeFormatter"></require>
    <require from="calendars/datepicker"></require>
    <require from="common/seasonAbbreviationFormatter"></require>
    <require from="calendars/datetimepicker"></require>
    <ai-dialog style="width: auto;"> <!-- Based on the design. would prefer to be flexible, but postpone this -->
        
        <!-- header -->
        <ai-dialog-header>
            <div class="grid-block align-center tool-header shrink ">
                <div id="" class="grid-block tool-header shrink">
                    <span class="ui-text-label-m-broad">EDIT REQUEST ${sampleRequest.id} FOR LOOK ${sampleRequest.season | seasonAbbreviation:seasons}${sampleRequest.look}</span>
                </div>
            </div>
        </ai-dialog-header>

        <!-- body-->
        <ai-dialog-body>
            
                <div class="grid-block row">

                    <!-- Column One -->
                    <div class="grid-block vertical medium-6 align-left slim-form-wrap">  

                        <!-- OVERVIEW -->                
                        <div class="grid-block vertical"> 
                          <span class="title-form">OVERVIEW</span>
                        </div>

                        <!-- Requested -->
                        <div class="grid-block shrink">                       
                            <span class="inline-label slim-text-box-label">Requested:</span>
                            <span class="slim-text-box">
                                ${sampleRequest.dateRequested | viewDateFormat}
                            </span>
                        </div>


                        <!-- Due -->
                        <div class="grid-block shrink">
                            <span class="inline-label slim-text-box-label">Due:</span>
                            <span class="slim-text-box">
                                 ${sampleRequest.bookingStartDate | viewDateFormat}
                            </span>
                        </div>

                        <!-- Company -->
                        <div class="grid-block shrink">        
                                <span class="inline-label">
                                        <span class="slim-text-box-label">Company:</span>
                                        <span class="slim-text-box">${sampleRequest.brand.name}</span>
                                </span>
                        </div>

                        <!-- Owner -->
                        <div class="grid-block shrink">
                            <span class="inline-label slim-text-box-label">Owner:</span>
                            <span class="slim-text-box">
                                ${sampleRequest.requestingUser.name} ${sampleRequest.requestingUser.surname}

                            </span>
                        </div>

                        <!-- Items -->
                        <div class="grid-block shrink">
                            <span class="inline-label slim-text-box-label">Samples:</span>
                            <span class="slim-text-box">
                                ${sampleRequest.searchableItems.length}
                            </span>

                            <!-- Status-->  
                            <div class="grid-block vertical">    
                                <span if.bind="user.type === 'brand'" class="inline-label slim-text-box-label" style="margin-left: 2rem;">Status: ${sampleRequest.requestStatusBrand} </span>
                                <span if.bind="user.type === 'press'" class="inline-label slim-text-box-label" style="margin-left: 2rem;">Status: ${sampleRequest.requestStatusPress} </span>
                            </div>
                        </div> 

                        <!-- Editorial -->
                        <div class="grid-block vertical">
                            <span class="title-form">EDITORIAL</span>
                        </div>

                        <!-- Name -->
                        <div class="grid-block shrink">
                            <span class="inline-label slim-text-box-label">Name</span>
                            <div class="" >
                                <input type="text" value.bind="sampleRequest.editorialName" class="slim-text-box">
                            </div>
                        </div>

                        <!-- Who -->
                        <div class="grid-block shrink">
                            <span class="inline-label slim-text-box-label">Who</span>
                            <div class="" >
                                <input type="text" value.bind="sampleRequest.editorialWho" class="slim-text-box">
                            </div>
                        </div>

                        <!-- When -->
                        <div class="grid-block shrink">
                            <span class="inline-label slim-text-box-label">When</span>
                            <div class="" >
                                <input type="text" datepicker value.bind="sampleRequest.editorialWhen | viewDateFormat" class="slim-text-box">
                            </div>
                        </div>


                        <!-- Press: DELIVERY DETAILS, Brand: RETURN DETAILS -->
                        <div if.bind="user.type === 'press'" class="grid-block vertical">
                            <span class="title-form">DELIVERY DETAILS</span>
                        </div>
                        <div if.bind="user.type === 'brand'" class="grid-block vertical">           
                            <span class="title-form">RETURN DETAILS</span>
                        </div>

                        <!-- ID -->
                        <div class="grid-block shrink">                       
                            <span class="inline-label slim-text-box-label">ID:</span>
                            <span class="slim-text-box">
                                <input type="text"  class="slim-text-box" value.bind="sampleRequest.shippingReturn.tracking">
                            </span>
                        </div>


                        <!-- Arrives -->
                        <div class="grid-block shrink">
                            <span class="inline-label slim-text-box-label">Arrives:</span>
                            <span class="slim-text-box">
                                <input type="text" timething class="slim-text-box" value.bind="sampleRequest.shippingReturn.endDate">
                            </span>
                        </div>

                    </div>

                    <!-- Column Two -->
                    <div class="grid-block vertical medium-6 align-right slim-form-wrap">
                     <!-- to make it LOOK balanced -->

                        <!-- Press: RETURN DETAILS, Brand: DELIVERY DETAILS -->
                        <div if.bind="user.type === 'press'" class="grid-block ">
                            <span class="title-form">RETURN DETAILS</span>
                        </div>
                        <div if.bind="user.type === 'brand'" class="grid-block ">           
                            <span class="title-form">DELIVERY DETAILS</span>
                        </div>

                        <!-- ID -->
                        <div class="grid-block ">
                            <span class="inline-label slim-text-box-label">ID:</span>
                            <span class="slim-text-box">
                                <input type="text" class="slim-text-box" value.bind="sampleRequest.shippingOut.tracking">
                            </span>
                        </div>
                        <!-- Pickup -->
                        <div class="grid-block ">
                            <span class="inline-label slim-text-box-label">Pickup:</span>
                            <span class="slim-text-box">
                                <input timething type="text" class="slim-text-box" value.bind="sampleRequest.shippingOut.startDate">
                            </span>
                        </div>

                        <!-- Destination -->
                        <div class="grid-block " >                                   
                            <span class="inline-label slim-text-box-label">Destination</span>
                            <select class="slim-text-box" name="" id="" value.bind="sampleRequest.returnToAddress.id">
                            <option repeat.for="address of brandAddresses" model.bind="address.id">${address.name}</option>
                            <option> Other</option>
                            </select>
                        </div>

                        <!-- Company -->
                        <div class="grid-block ">
                            <span class="inline-label slim-text-box-label">Company</span>
                            <input type="text" class="slim-text-box" value.bind="newAddress.company">
                        </div>

                        <!-- Address 1 -->
                        <div class="grid-block ">
                            <span class="inline-label slim-text-box-label">Address 1</span>
                            <input type="text" class="slim-text-box" value.bind="newAddress.address1">
                        </div>

                        <!-- Address 2 -->
                        <div class="grid-block ">
                            <span class="inline-label slim-text-box-label">Address 2</span>
                            <input type="text" class="slim-text-box" value.bind="newAddress.address2">
                        </div>

                        <!-- city -->
                        <div class="grid-block ">
                            <span class="inline-label slim-text-box-label">City</span>
                            <input type="text" class="slim-text-box" value.bind="newAddress.city">
                        </div>

                        <!-- Country -->
                        <div class="grid-block ">
                            <span class="inline-label slim-text-box-label">Country</span>
                            <input type="text" class="slim-text-box" value.bind="newAddress.country">
                        </div>

                        <!-- Postal Code -->
                        <div class="grid-block ">
                            <span class="inline-label slim-text-box-label">Postal Code</span>
                            <input type="text" class="slim-text-box" value.bind="newAddress.postalCode">
                        </div>

                        <!-- Addressee -->
                        <div class="grid-block ">
                            <span class="inline-label slim-text-box-label">Attention</span>
                            <!-- not a selection any more,just raw data to fill in
                            <select class="slim-text-box" name="" id="" value.two-way="sampleRequest.deliverTo.id">
                                <option repeat.for="person of brandUsers" model.bind="person.id">${person.name} ${person.surname}</option>
                            </select> -->
                            <input type="text" class="slim-text-box">
                        </div>

                    </div>                    
                </div>
                <!-- Bottom Row -->
                <div class="grid-block slim-form-wrap">
                    <span class="title-form">SAMPLES</span>
                </div>  

                <!-- brand -->
                <div if.bind="user.type === 'brand'" class="vertical grid-content accordion modal-table-wrap"> <!-- scroll after n items -->                    
                    <!-- row -->
                    <table repeat.for="sample of sampleRequest.searchableItemsProposed" class="" style="table-layout:fixed">
                        <tr>
                            <!-- <td class="accordion w3">${$index+1}</td> -->
                            <td class="accordion" style="width:50px; max-width:50px;">${sampleRequest.season | seasonAbbreviation:seasons}${sampleRequest.look}.${$index+1}</td>
                            <td class="accordion to-u-c" style="width:335px; max-width:335px; overflow:hidden;">[${sample.clientID}] : ${sample.attributes}</td>
                            <td class="accordion" style="width:60px; max-width:60px;">                            
                                <span style="margin-bottom:0px;">${sample.status.status}</span>
                                
                            </td>

                            <td if.bind="sampleRequest.requestStatusBrand == 'Pending'" class="accordion" style="text-align:right;width:70px; max-width:70px; padding-bottom:4px;">

                                <select value.bind="sample.status.status" style="margin:0;">
                                    <option >Action</option>
                                    <option value="Pending">Pending</option>
                                    <option value="Approved">Approve</option>
                                    <option value="Denied">Deny</option>
                                </select>
                            </td>
                        </tr>
                    </table>            
                </div>

                <!-- press -->
                <div if.bind="(user.type === 'press') || (user.type === 'prAgency')" class="vertical grid-content accordion" style="overflow-x:hidden; max-height:10rem;"> <!-- scroll after n items -->                    
                    <!-- row -->
                    <table repeat.for="sample of sampleRequest.searchableItemsProposed" class="" style="margin-bottom:7px; table-layout:fixed">
                        <tr>
                           <!--  <td class="accordion w3">${$index+1}</td> -->
                            <td class="accordion" style="width:50px; max-width:50px;">${sampleRequest.season | seasonAbbreviation:seasons}${sampleRequest.look}.${$index+1} :</td>
                            <td class="accordion to-u-c" style="width:355px; max-width:355px; overflow:hidden;">${sample.attributes}</td>
                            <td class="accordion" style="width:60px; max-width:60px;">
                                <span style="margin-bottom:0px;">${sample.status.brandStatus}</span>
                                <span if.bind="(!sample.status.brandStatus)" style="margin-bottom:0px;">Pending</span>
                            </td>
                            <td if.bind="sampleRequest.requestStatusBrand === 'Pending'"  class="accordion" style="text-align:right; width:70px; max-width:70px;">
                                <a click.delegate="removeSample(sample.id,$index)" style="padding:7px 6px 5px 6px; margin-right:0; margin-bottom:0px; font-size: 1rem;" class="hollow button" href="#">Remove</a>
                            </td> 
                        </tr>
                    </table>            
                </div>

            
        </ai-dialog-body>

        <!-- Footer buttons -->
        <ai-dialog-footer>
            <div if.bind="user.type === 'brand'">
                <a class="hollow button"  click.delegate="deleteRequestBrand()">Delete Request</a>
                <a class="hollow button"  click.delegate="cancel()">Cancel</a>
                <a class="hollow button" click.delegate="update()">Save Changes</a>
                <a if.bind="sampleRequest.requestStatusBrand === 'Pending'" class="button" click.delegate="approve()">Approve</a>
                <a if.bind="sampleRequest.requestStatusBrand === 'Pending'" class="button" click.delegate="deny()">Deny</a>
            </div>
            <div if.bind="user.type === 'press'">
                <a class="hollow button"  click.delegate="deleteRequestPress()">Delete Request</a>
                <a class="hollow button"  click.delegate="cancel()">Cancel</a>
                <a class="button" click.delegate="update()">Save Changes</a>
            </div>
        </ai-dialog-footer>
    </ai-dialog>
</template>
