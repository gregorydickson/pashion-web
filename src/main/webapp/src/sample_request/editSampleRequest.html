<!-- Note same layout for Press and Brand, only content and Titles change -->
<!-- Currently this static template is setup for Press -->
<template>
    <require from="common/viewDateFormatter"></require>
    <require from="calendars/datepicker"></require>
    <ai-dialog style="width: auto;"> <!-- Based on the design. would prefer to be flexible, but postpone this -->
        
        <!-- header -->
        <ai-dialog-header>
            <div class="grid-block align-center tool-header shrink ">
                <div id="" class="grid-block tool-header shrink">
                    <span class="ui-text-label-m-broad">EDIT REQUEST &nbsp;</span> <!-- fudge to take account of the X -->
                    <span class="ui-text-label-m-broad"> ${sampleRequest.id}</span>
                </div>
            </div>
        </ai-dialog-header>

        <!-- body-->
        <ai-dialog-body>
            
                <div class="grid-block">

                    <!-- Column One -->
                    <div class="grid-block vertical medium-6 align-left" style="padding-right:16px;">  

                        <!-- OVERVIEW -->                 
                        <span style="margin-bottom: 1rem;">OVERVIEW</span>

                        <!-- Requested -->
                        <div class="grid-block shrink">                       
                            <span class="inline-label slim-text-box-label">Requested:</span>
                            <div class="">
                                ${sampleRequest.dateRequested | viewDateFormat}
                            </div>
                        </div>


                        <!-- Due -->
                        <div class="grid-block shrink">
                            <span class="inline-label slim-text-box-label">Due:</span>
                            <div class="">
                                 ${sampleRequest.bookingStartDate | viewDateFormat}
                            </div>
                        </div>

                        <!-- Company -->
                        <div class="grid-block shrink">        
                                <span class="inline-label">
                                        <span class="slim-text-box-label">Company:</span>
                                        ${sampleRequest.brand.name}
                                </span>
                        </div>

                        <!-- Owner -->
                        <div class="grid-block shrink">
                            <span class="inline-label slim-text-box-label">Owner:</span>
                            <div class=""> 
                                ${sampleRequest.requestingUser.name} ${sampleRequest.requestingUser.surname}

                            </div>
                        </div>

                        <!-- Items -->
                        <div class="grid-block shrink">
                            <span class="inline-label slim-text-box-label">Samples:</span>
                            <div class="" >
                                ${sampleRequest.searchableItems.length}
                            </div>

                            <!-- Status-->  
                            <div class="grid-block vertical">    
                                <span if.bind="user.type === 'brand'" class="inline-label slim-text-box-label" style="margin-left: 2rem;">Status: ${sampleRequest.requestStatusBrand} </span>
                                <span if.bind="user.type === 'press'" class="inline-label slim-text-box-label" style="margin-left: 2rem;">Status: ${sampleRequest.requestStatusPress} </span>
                            </div>
                        </div> 


                        <!-- Press: DELIVERY DETAILS, Brand: RETURN DETAILS -->
                        <div if.bind="user.type === 'press'" class="grid-block vertical">
                            <span style="margin-bottom: 1rem;">DELIVERY DETAILS</span>
                        </div>
                        <div if.bind="user.type === 'brand'" class="grid-block vertical">           
                            <span style="margin-bottom: 1rem;">RETURN DETAILS</span>
                        </div>

                        <!-- ID -->
                        <div class="grid-block shrink">                       
                            <span class="inline-label slim-text-box-label">ID</span>
                            <div class="">
                                ${sampleRequest.shippingOut.tracking}
                            </div>
                        </div>


                        <!-- Arrives -->
                        <div class="grid-block shrink">
                            <span class="inline-label slim-text-box-label">Arrives</span>
                            <div class="">
                                ${sampleRequest.shippingOut.endDate}
                            </div>
                        </div>

                    </div>

                    <!-- Column Two -->
                    <div class="grid-block vertical medium-6 align-right" style="padding-left:16px; padding-right: 10px;">
                     <!-- to make it LOOK balanced -->

                        <!-- Press: RETURN DETAILS, Brand: DELIVERY DETAILS -->
                        <div if.bind="user.type === 'press'" class="grid-block vertical">
                            <span style="margin-bottom: 1rem;">RETURN DETAILS</span>
                        </div>
                        <div if.bind="user.type === 'brand'" class="grid-block vertical">           
                            <span style="margin-bottom: 1rem;">DELIVERY DETAILS</span>
                        </div>

                        <!-- ID -->
                        <div class="grid-block shrink">
                            <span class="inline-label slim-text-box-label">ID</span>
                            <div class="" >
                                ${sampleRequest.shippingReturn.tracking}
                            </div>
                        </div>
                        <!-- Pickup -->
                        <div class="grid-block shrink">
                            <span class="inline-label slim-text-box-label">Pickup</span>
                            <div class="" >
                                ${sampleRequest.shippingReturn.startDate}
                            </div>
                        </div>

                        <!-- Destination -->
                        <div class="grid-block shrink" >       
                                <span class="inline-label">
                                    <span class="slim-text-box-label">Destination</span>
                                    <select name="" id="" value.bind="sampleRequest.returnToAddress.id">
                                    <option repeat.for="address of brandAddresses" model.bind="address.id">${address.name}</option>
                                    </select>
                                </span>
                        </div>

                        <!-- Addressee -->
                        <div class="grid-block shrink">
                            <span class="inline-label slim-text-box-label">Addressee</span>
                            <div class="" >
                                <select name="" id="" value.bind="sampleRequest.deliverTo">
                                    <option repeat.for="person of brandUsers" model.bind="person.id">${person.name} ${person.surname}</option>
                    </select>
                            </div>
                        </div>


                        <!-- Editorial -->
                        <span style="margin-bottom: 1rem;">EDITORIAL</span>

                        <!-- Name -->
                        <div class="grid-block shrink">
                            <span class="inline-label slim-text-box-label">Name</span>
                            <div class="" >
                                <input type="text" value.bind="sampleRequest.editorialName" class="slim-text-box">
                            </div>
                        </div>

                        <!-- Who -->
                        <div class="grid-block shrink">
                            <span class="inline-label slim-text-box-label">Who</span>
                            <div class="" >
                                <input type="text" value.bind="sampleRequest.editorialWho" class="slim-text-box">
                            </div>
                        </div>

                        <!-- When -->
                        <div class="grid-block shrink">
                            <span class="inline-label slim-text-box-label">When</span>
                            <div class="" >
                                <input type="text" datepicker value.bind="sampleRequest.editorialWhen | viewDateFormat" class="slim-text-box">
                            </div>
                        </div>
                    </div>                    
                </div>
                <!-- Bottom Row -->
                <div class="grid-block">
                    <span style="margin-bottom: 8px;">SAMPLES</span>
                </div>  

                <!-- brand -->
                <div if.bind="user.type === 'brand'" class="vertical grid-content accordion" style="overflow-x:hidden; max-height:10rem;"> <!-- scroll after n items -->                    
                    <!-- row -->
                    <table repeat.for="sample of sampleRequest.searchableItems" class="big-accordion" style="margin-bottom:7px;">
                        <tr>
                            <td class="accordion w3">${$index}</td>
                            <td class="accordion w12">${sample.id}</td>
                            <td class="accordion w54">${sample.name}</td>
                            <td class="accordion w15">                            
                                <span  style="margin-bottom:0px;">${sample.status.brandStatus}</span>
                            </td>
                            <td style="text-align:right;" class="accordion w16">
                                <select value.bind="sample.status.brandStatus">
                                    <option value="approved">Approve</option>
                                    <option value="denied">Deny</option>
                                </select>
                            </td>
                        </tr>
                    </table>            
                </div>

                <!-- press -->
                <div if.bind="user.type === 'press'" class="vertical grid-content accordion" style="overflow-x:hidden; max-height:10rem;"> <!-- scroll after n items -->                    
                    <!-- row -->
                    <table repeat.for="sample of sampleRequest.searchableItems" class="big-accordion" style="margin-bottom:7px;">
                        <tr>
                            <td class="accordion w3">${$index}</td>
                            <td class="accordion w12">${sample.id}</td>
                            <td class="accordion w54">${sample.name}</td>
                            <td class="accordion w18">
                                <span style="margin-bottom:0px;">${sample.status.pressStatus}</span>
                            </td>
                            <td style="text-align:right;" class="accordion w13">
                                <a click.delegate="removeSample(sample.id,$index)" style="padding:7px 6px 5px 6px; margin-right:0; margin-bottom:0px; font-size: 1rem;" class="hollow button" href="#">Remove</a>
                            </td> 
                        </tr>
                    </table>            
                </div>

            
        </ai-dialog-body>

        <!-- Footer buttons -->
        <ai-dialog-footer>
            <div if.bind="user.type === 'brand'">
                <a class="hollow button"  click.delegate="deleteRequest()">Delete Request</a>
                <a class="hollow button"  click.delegate="cancel()">Cancel</a>
                <a class="hollow button" click.delegate="submit()">Save Changes</a>
                <a class="button" click.delegate="submit()">Ship</a>
            </div>
            <div if.bind="user.type === 'press'">
                <a class="hollow button"  click.delegate="deleteRequest()">Delete Request</a>
                <a class="hollow button"  click.delegate="cancel()">Cancel</a>
                <a class="button" click.delegate="submit()">Save Changes</a>
            </div>
        </ai-dialog-footer>
    </ai-dialog>
</template>
