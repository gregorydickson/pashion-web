<template>
    
   <ai-dialog>
        <ai-dialog-header>
            <!-- header -->
            <div class="grid-block align-center tool-header shrink ">
                <div id="comms_panel" class="grid-block tool-header shrink">
                    <span class="ui-text-label-m-broad" style="margin-left:32px;">BOOK SAMPLE / LOOK </span>
                    <span class="ui-text-label-m-broad"> ${currentItem.id}</span>
                </div>
            </div>
        </ai-dialog-header>
      <ai-dialog-body>
      <!-- <div class="grid-block">Status: ${status}</div> RM not sure of this attribute for now -->
        <div class="grid-block row">
            <!--Start Left column -->
            <div class="vertical grid-block">
                 <div class="grid-block">
                    <span class="calendarnav ui-text-label-m-blue" style="text-align:center;">START BOOKING</span>
                </div>
                <div class="grid-block calendar-header-align">
                     <span class="calendarnav prev">
                     <a click.delegate="startPrevious()">
                        <img src="/assets/calendar/prev.png"  />
                     </a>
                     </span>
                     <span class="calendarnav calendar-title"><a id="titlelink" click.delegate="startReset()">TODAY</a></span>
                     <span class="calendarnav next">
                     <a click.delegate="startNext()"><img src="/assets/calendar/next.png" /></a>
                     </span>
                </div>
                <div class="grid-block calendar-header-align">
                    <span class="calendarnav ui-text-label-m-broad monthyear">${startCalendar.calendarMonths[0].monthName}&emsp;${startCalendar.calendarMonths[0].year}</span>
                </div>
                <div class="grid-block  calendar-header-align">
                    <table class="calendar calendar-day-numbers">
                        <thead>
                            <tr>
                                <td repeat.for="cell of startCalendar.calendarMonths[0].dayNames[0]">${cell.dayString}
                                </td>
                            </tr>
                        </thead>
                        <tbody>
                            <tr repeat.for="row of startCalendar.calendarMonths[0].rows">
                                <td class="${cell.event}"  repeat.for="cell of row">
                                <a href="#" click.delegate="setStartDate($event,cell.dayString)">
                                ${cell.dayString}
                                </a>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <!-- Required Time -->
                <div class="grid-content shrink" style="margin-top: 1rem;">
                    <span class="inline-label">
                        <span class="slim-text-box-label">Required By</span>
                    <select name="" id="" value.bind="selectedRequired">
                        <option value="">Select Time</option>
                        <option repeat.for="item of required" model.bind="item">${item}</option>
                    </select>
                    </span>
                </div>
                <!-- Deliver To-->
                <div class="grid-content shrink">
                    <span class="inline-label">
                        <span class="slim-text-box-label">Deliver To</span>
                    <select name="" id="" value.bind="deliverToSelected">
                        <option value="">Select Name</option>
                        <option repeat.for="item of deliverTo" model.bind="item.id">${item.name}</option>
                    </select>
                    </span>
                </div>

                <!-- Courier Section -->
                <div class="grid-content shrink">
                    <span class="inline-label">
                        <span class="slim-text-box-label">Courier</span>
                    <select name="" id="">
                        <option value="">Stuart: Bike</option>
                        <option value="">Stuart: Car</option>
                        <option value="">Stuart: Foot</option>
                        <option value="">Stuart: Scooter</option>
                        <option value="">My Courier</option>
                    </select>
                    </span>

                </div>
                <div class="grid-block shrink">
                    <div class="grid-content shrink">
                        <span class="inline-label">
                            <span class=" slim-text-box-label">Split?</span>
                        <select name="" id="" >
                            <option value="">50/50</option>
                            <option value="">We Pay</option>
                            <option value="">They Pay</option>
                        </select>
                        </span>
                    </div>
                    <div class="grid-content shrink" style="padding-top: 0.5rem;">
                        <span class="" >Cost: £9.95</span>
                    </div>
                </div>
            </div>
            <!--Start Right column -->
            <div class="vertical grid-block">
                <div class="grid-block">
                    <span class="calendarnav ui-text-label-m-blue" style="text-align:center;">END BOOKING</span>
                </div>
               <div class="grid-block calendar-header-align" >
                  <span class="calendarnav prev">
                     <a click.delegate="endPrevious()">
                        <img src="/assets/calendar/prev.png"  />
                     </a>
                  </span>
                  <span class="calendarnav calendar-title"><a id="titlelink" click.delegate="endReset()">TODAY</a></span>
                  <span class="calendarnav next">
                     <a click.delegate="endNext()"><img src="/assets/calendar/next.png" /></a>
                  </span>
               </div>
                <div class="grid-block calendar-header-align">
                    <span class="calendarnav ui-text-label-m-broad monthyear">${endCalendar.calendarMonths[0].monthName}&emsp;${endCalendar.calendarMonths[0].year}</span>
                </div>
                <div class="grid-block calendar-header-align">
                    <table class="calendar calendar-day-numbers">
                        <thead>
                            <tr>
                                <td repeat.for="cell of endCalendar.calendarMonths[0].dayNames[0]">${cell.dayString}
                                </td>
                            </tr>
                        </thead>
                        <tbody>
                            <tr repeat.for="row of endCalendar.calendarMonths[0].rows">
                                <td class="${cell.event}" repeat.for="cell of row">
                                    <a href="#" click.delegate="setEndDate($event,cell.dayString)">
                                    ${cell.dayString}
                                    </a>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <!-- Return By Time -->
                <div class="grid-content shrink" style="margin-top: 1rem;">
                    <span class="inline-label">
                        <span class="slim-text-box-label">Return By</span>
                    <select name="" id="" value.bind="returnBySelected">
                        <option value="">Select</option>
                        <option repeat.for="item of returnBy" model.bind="item">${item}</option>
                    </select>
                    </span>
                </div>
                <!-- Return To-->
                <div class="grid-content shrink">
                    <span class="inline-label">
                        <span class="slim-text-box-label">Return To</span>
                    <select name="" id="" value.bind="returnToSelected">
                        <option value="">Select Name</option>
                        <option repeat.for="item of returnTo" model.bind="item.id">${item.name}</option>
                    </select>
                    </span>
                </div>

                <!-- Courier Section -->
                <div class="grid-content shrink">
                    <span class="inline-label">
                        <span class="slim-text-box-label">Courier</span>
                    <select name="" id="">
                        <option value="">Stuart: Bike</option>
                        <option value="">Stuart: Car</option>
                        <option value="">Stuart: Foot</option>
                        <option value="">Stuart: Scooter</option>
                        <option value="">My Courier</option>
                    </select>
                    </span>

                </div>
                <div class="grid-block shrink">
                    <div class="grid-content shrink">
                        <span class="inline-label">
                            <span class="slim-text-box-label">Split?</span>
                        <select name="" id="" >
                            <option value="">50/50</option>
                            <option value="">We Pay</option>
                            <option value="">They Pay</option>
                        </select>
                        </span>
                    </div>
                    <div class="grid-content shrink" style="padding-top: 0.5rem;">
                        <span class="" >Cost: £9.95</span>
                    </div>
                </div>

            </div>
            <!--end Right column -->
        </div>
        
             <!-- Bottom Row -->  
                <div class="vertical grid-content accordion">
                    <table class="big-accordion" style="margin-bottom:4px;">
                            <tr>
                                <td class="accordion w24">SELECT SAMPLES</td>
                                <td class="accordion w73" style="text-align:right; padding-right: 0.5rem;" >Select All</td>
                                <td class="accordion w3">
                                    <input type="checkbox" model.bind="sample.id" change.delegate="updateAvailability()" checked.bind="selectedProductIds.IsChecked" value.one-way="selectedProductIds.Value">
                                </td>
                            </tr>
                    </table>
                </div>

                <div class="vertical grid-content accordion" style="overflow-x:hidden; max-height:8rem;"> 
                    <table class="big-accordion" style="margin-bottom:0px;" repeat.for="sample of currentItem.samples">
                        <tr>
                            <td class="accordion w5">1</td>
                            <td class="accordion w19">${sample.id}</td>
                            <td class="accordion w73">${sample.name}</td>
                            <td class="accordion w3">
                               <input type="checkbox" model.bind="sample.id" change.delegate="updateAvailability()" checked.bind="selectedProductIds">
                            </td>
                        </tr>
                    </table>

                </div>


      </ai-dialog-body>
      <ai-dialog-footer>
         <a class="hollow button"  click.delegate="close()">Cancel</a>
         <a class="button" click.delegate="submit()">Book Selected</a>
      </ai-dialog-footer>
   </ai-dialog>
</template>
